<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Cadastro</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  </head>
  <body>
    <!-- Navbar -->
    <nav class="navbar fixed-top" style="background-color: #0072BC;">
      <div class="container-fluid" style="height: 15vh;">
        <img src="img/logo2.png" alt="Logo GeoImigrantes" width="130" height="auto" class="d-inline-block">
        <!-- Botão de menu -->
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="offcanvas"
          data-bs-target="#offcanvasNavbar"
          aria-controls="offcanvasNavbar"
          aria-label="Alternar navegação"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <!-- Fim do botão de menu -->

        <div
          class="offcanvas offcanvas-end"
          tabindex="-1"
          id="offcanvasNavbar"
          aria-labelledby="offcanvasNavbarLabel"
        >
          <div class="offcanvas-header" style="background-color: #0072BC;">
            <h5 class="offcanvas-title" id="offcanvasNavbarLabel">Projeto GeoImigrantes</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Fechar"></button>
          </div>
          <div class="offcanvas-body">
            <ul class="navbar-nav justify-content-end flex-grow-1 pe-3">
              <li class="nav-item">
                <a class="nav-link" href="index.html">Página Inicial</a>
              </li>
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="cadastro.html">Cadastro</a>
              </li>
              <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">Sobre nós</a>
                <ul class="dropdown-menu">
                  <li><a class="dropdown-item" href="#">Equipe</a></li>
                  <li><a class="dropdown-item" href="#">Sobre o Projeto</a></li>
                  <li><hr class="dropdown-divider" /></li>
                  <li><a class="dropdown-item" href="https://www.ifms.edu.br/campi/campus-dourados" target="_blank">Instituição</a></li>
                </ul>
              </li>
            </ul>
            <form class="d-flex mt-3" role="search">
              <input class="form-control me-2" type="search" placeholder="Procurar" aria-label="Procurar">
              <button class="btn btn-outline-success" type="submit">Procurar</button>
            </form>
          </div>
        </div>
      </div>
    </nav>
    <!-- Fim da Navbar -->

    <!-- Formulário de cadastro -->
    <form class="p-3" style="margin-top: 18vh;">
      <div class="my-3 container-fluid border bg-subtle rounded" id="cadastro">
        <h5 class="my-3 text-primary">Cadastro</h5>
        <hr/>

        <div class="row">
          <div class="my-3 col">
            <label class="form-label" for="f-nome">Nome:</label>
            <input class="form-control" type="text" name="f-nome" id="f-nome" required>
          </div>

          <div class="my-3 col">
            <label class="form-label" for="f-sobrenome">Sobrenome:</label>
            <input class="form-control" type="text" name="f-sobrenome" id="f-sobrenome" required>
          </div>
        </div>

        <div class="my-3">
          <label class="form-label" for="f-cpf">CPF:</label>
          <input class="form-control" type="number" name="f-cpf" id="f-cpf" required>
          <div id="cpfHelpBlock" class="form-text">
            Digite seu CPF, não é necessário caracteres especiais.
          </div>
        </div>

        <div class="my-3">
          <label class="form-label" for="f-nascimento">Data de Nascimento:</label>
          <input class="form-control" type="date" name="f-nascimento" id="f-nascimento" required>
        </div>

        <div class="my-3">
          <label class="form-label" for="f-telefone">Telefone:</label>
          <input class="form-control" type="number" name="f-telefone" id="f-telefone" required>
        </div>

        <div class="row">
          <div class="my-3 col">
            <label class="form-label" for="f-local">Oriundo de:</label>
            <input class="form-control" type="text" name="f-local" id="f-local" placeholder="País/Estado" required>
          </div>

          <div class="my-3 col">
            <label class="form-label" for="f-cep">CEP atual:</label>
            <input class="form-control" type="number" name="f-cep" id="f-cep" required>
            <div id="cepHelpBlock" class="form-text">
              Digite seu CEP, não é necessário caracteres especiais.
            </div>
          </div>
        </div>

        <div class="my-3">
          <label class="form-label" for="f-email">Email:</label>
          <div class="input-group">
            <div class="input-group-text">@</div>
            <input class="form-control" placeholder="Digite seu email" id="f-email" type="email" name="f-email" required>
          </div>
        </div>

        <div class="my-3">
          <label class="form-label" for="f-senha">Senha</label>
          <input class="form-control" type="password" name="f-senha" id="f-senha" required>
          <div id="passwordHelpBlock" class="form-text">
            Sua senha deve ter entre 8-20 caracteres, conter letras e números, não deve conter espaços, emojis ou caracteres especiais como (!, $, #).
          </div>
        </div>

        <!-- Termos de uso -->
        <div class="col-12">
          <div class="form-check">
            <input class="form-check-input" type="checkbox" value="" id="invalidCheck" required>
            <label class="form-check-label" for="invalidCheck">
              Eu concordo com os termos de uso da plataforma
            </label>
          </div>
        </div>

        <input class="btn btn-primary mt-3 mb-3" type="submit" name="btn-cadastrar" value="Cadastrar">
      </div>
    </form>
    <!-- Fim do formulário de cadastro -->

    <!-- Rodapé -->
    <footer class="container-fluid d-flex" style="background-color: #0072BC;">
      <img src="img/logo.png" alt="Logo" width="60" height="auto" style="margin-top: 2vh; margin-bottom: 2vh;">
      <p class="text-light" style="margin-top: 4vh; margin-left: 4vh;">
        &copy; 2023 - Desenvolvido por Lorena Missio.<br>IFMS - Campus Dourados
      </p>
    </footer>
    <!-- Fim do rodapé -->






  

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <script>
      // JavaScript para validação do formulário
      document.addEventListener("DOMContentLoaded", function() {
        const form = document.querySelector('form');
        
        form.addEventListener('submit', function(event) {
          event.preventDefault();
          
          let nome = form.querySelector('[name="f-nome"]').value.trim();
          let sobrenome = form.querySelector('[name="f-sobrenome"]').value.trim();
          let cpf = form.querySelector('[name="f-cpf"]').value.trim();
          let nascimento = form.querySelector('[name="f-nascimento"]').value.trim();
          let telefone = form.querySelector('[name="f-telefone"]').value.trim();
          let local = form.querySelector('[name="f-local"]').value.trim();
          let cep = form.querySelector('[name="f-cep"]').value.trim();
          let email = form.querySelector('[name="f-email"]').value.trim();
          let senha = form.querySelector('[name="f-senha"]').value.trim();
          let termos = form.querySelector('#invalidCheck').checked;

          // Funções de validação
          const validarCPF = (cpf) => /^\d{11}$/.test(cpf);
          const validarTelefone = (telefone) => /^\d{10,11}$/.test(telefone);
          const validarCEP = (cep) => /^\d{8}$/.test(cep);
          const validarEmail = (email) => /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
          const validarSenha = (senha) => /^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,20}$/.test(senha);
          
          // Mensagens de erro
          if (!nome || !sobrenome || !cpf || !nascimento || !telefone || !local || !cep || !email || !senha) {
            alert('Por favor, preencha todos os campos.');
            return;
          }

          if (!validarCPF(cpf)) {
            alert('CPF inválido. Insira um CPF com 11 dígitos.');
            return;
          }

          if (!validarTelefone(telefone)) {
            alert('Telefone inválido. Insira um número com 10 ou 11 dígitos.');
            return;
          }

          if (!validarCEP(cep)) {
            alert('CEP inválido. Insira um CEP com 8 dígitos.');
            return;
          }

          if (!validarEmail(email)) {
            alert('Email inválido. Insira um email válido.');
            return;
          }

          if (!validarSenha(senha)) {
            alert('Senha inválida. A senha deve ter entre 8 e 20 caracteres, contendo letras e números.');
            return;
          }

          if (!termos) {
            alert('Você deve concordar com os termos de uso.');
            return;
          }

          // Se tudo estiver válido, o formulário é enviado
          alert('Cadastro realizado com sucesso!');
          form.submit();
        });
      });
    </script>
    <!-- Fim dos Scripts -->
</body>
</html>
